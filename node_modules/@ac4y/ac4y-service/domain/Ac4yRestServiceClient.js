var fetch=require("node-fetch");
var Headers=require("node-fetch").Headers;

class Ac4yRestServiceClient {
    
    constructor(host){this.host=host;}

    getHost(){return this.host;};

    jsonContent(){return new Headers({'Content-Type': 'application/json'});}

    async get(path) {
        const promise = await fetch(this.getHost()+path);
        return await promise.json();
    }
    
    async post(path, request) {

        const promise = await fetch(
            this.getHost()+path
            ,{
                method: 'POST'
                ,body: JSON.stringify(request)
                ,headers: this.jsonContent()
            }
        );

        return await promise.json();

    } // post

} // Ac4yRestServiceClient

module.exports=Ac4yRestServiceClient
