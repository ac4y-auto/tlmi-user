class Ac4yMedleyHandler {

    getSymbol(index){return String.fromCharCode(((index % 26) + 97));}

    getExponent(threshold, base){
        
        var exponent=1;
        
        while (threshold>=Math.pow(base, exponent)) {exponent++;}
        
        return exponent--;
        
    } // getExponent

    getNumberSystemValueAsText(threshold, numberSystem){
        
        var exponent = this.getExponent(threshold, numberSystem)-1;
        
        var text="";
        
        for (var i=exponent; i>=0; i--){
            var positionValue = Math.pow(numberSystem, i);
            var localValue = Math.trunc(threshold/positionValue);
            var threshold=threshold - localValue * positionValue;
            text+=this.getSymbol(localValue);
        }
        
        return text;
        
    } // getNumberSystemValueAsText

    random(variation){return Math.floor(Math.random() * variation);}
    randomBoolean(){return (this.random(2)===1 ? true : false)}
    
    getDiggedFunctionName(level) {

        var stack = new Error().stack;
        var caller = stack.split('\n')[level].trim();
        var firstSpace = caller.indexOf(" ");
        var cuttedCaller = caller.substring(firstSpace+1);
        var secondSpace = cuttedCaller.indexOf(" ");

        return cuttedCaller.substr(0,secondSpace);

    } // getDiggedFunctionName

    getFunctionName(){
        //for (var i=0;i<10;i++) console.log(new Ac4yObjectHandler().getDiggedFunctionName(i))
        return this.getDiggedFunctionName(3);
    };
    
} // Ac4yMedleyHandler

module.exports=Ac4yMedleyHandler
